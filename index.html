<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flag Arena</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background: radial-gradient(circle at center, #1a1a2e 0%, #0d0d18 70%, #000);
}

.wheel-container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:600px;
    height:600px;
}

canvas{
    width:100%;
    height:100%;
    animation: spin 3s linear infinite;
}

@keyframes spin{
    from{ transform: rotate(0deg);}
    to{ transform: rotate(360deg);}
}
</style>
</head>
<body>

<div class="wheel-container">
    <canvas id="wheel" width="600" height="600"></canvas>
</div>

<script>
const flags = [
"https://flagcdn.com/w80/us.png",
"https://flagcdn.com/w80/tr.png",
"https://flagcdn.com/w80/de.png",
"https://flagcdn.com/w80/fr.png",
"https://flagcdn.com/w80/gb.png",
"https://flagcdn.com/w80/it.png",
"https://flagcdn.com/w80/es.png",
"https://flagcdn.com/w80/br.png",
"https://flagcdn.com/w80/ca.png",
"https://flagcdn.com/w80/jp.png",
"https://flagcdn.com/w80/kr.png",
"https://flagcdn.com/w80/au.png"
];

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const size = canvas.width;
const center = size/2;
const radius = size/2 - 30;
const total = flags.length;
const slice = (2*Math.PI)/total;

let images = [];
let loaded = 0;

flags.forEach((src,i)=>{
    const img = new Image();
    img.crossOrigin = "anonymous";
    img.src = src;
    img.onload = ()=>{
        loaded++;
        if(loaded === total){
            drawWheel();
        }
    };
    images.push(img);
});

function drawWheel(){
    for(let i=0;i<total;i++){
        const angle = i*slice;

        // Slice background
        ctx.beginPath();
        ctx.moveTo(center,center);
        ctx.arc(center,center,radius,angle,angle+slice);
        ctx.closePath();
        ctx.fillStyle = i%2==0 ? "#141430" : "#1f1f4a";
        ctx.fill();

        // Flag image
        ctx.save();
        ctx.translate(center,center);
        ctx.rotate(angle + slice/2);
        ctx.drawImage(images[i], radius-70, -25, 50, 35);
        ctx.restore();
    }
}
</script>

</body>
</html>
